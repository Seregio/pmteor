<head>
  <title>Production process manager for Meteor applications</title>
</head>

<template name="layout">
  {{ > yield }}
</template>

<template name="index">
  <a href="{{ pathFor route='Applications' }}">Applications</a>
</template>

<template name="applications">
  <a href="{{ pathFor route='ApplicationCreate' }}">New Application</a>
  <ul>
    {{# each applications }}
      <li>
        {{ name }} - {{ status }} - {{ port }} {{ livestamp createdAt }}
        {{# unless isEqual status 'PROGRESS' }}
          {{# if isEqual status 'STOPPED' }}
            <button class="start">Start</button>
          {{/if}}
          {{# if isEqual status 'RUNNING' }}
            <button class="stop">Stop</button>
          {{/if}}
        {{/unless}}
        {{# unless isEqual status 'RUNNING' }}
          <button class="delete">Delete</button>
        {{/unless}}
      </li>
    {{/each}}
  </ul>
</template>

<template name="applicationCreate">
  {{ > quickForm collection="Applications" id="ApplicationsCreateForm" type="insert" }}
</template>

<template name="loading">
  Loading...
</template>
